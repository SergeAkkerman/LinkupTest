(this["webpackJsonpnyt-v2.0"]=this["webpackJsonpnyt-v2.0"]||[]).push([[0],{232:function(t,e,n){t.exports={app:"base_app__QbYZa"}},233:function(t,e,n){t.exports={textStyle:"header_textStyle__1wUB-"}},234:function(t,e,n){t.exports={gradient:"linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0), rgba(246, 235, 235, 0.9))"}},426:function(t,e,n){},448:function(t,e,n){"use strict";n.r(e);var r=n(28),a=n(2),i=n.n(a),c=n(95),s=n.n(c),o=n(22),l=n(32),u=n(229),h=n(230),b=n(231),j=n.n(b),p=n(52),d=n(53),g="ARTICLE_DATA_TO_STORE",O={currentArticleData:[]},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:var n=e.payload.currentArticleArray;return Object.assign({},t,{currentArticleData:n});default:return t}},m={authError:null},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOGIN_ERROR":return Object(r.a)(Object(r.a)({},t),{},{authError:e.err.message});case"LOGIN_SUCCESS":return Object(r.a)(Object(r.a)({},t),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("Signout success"),t;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(r.a)(Object(r.a)({},t),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),{authError:e.err.message};default:return t}},v=Object(l.combineReducers)({articleData:f,userauth:x,firebase:d.firebaseReducer,firestore:p.firestoreReducer}),S=function(){try{var t=localStorage.getItem("state");if(null===t)return;return JSON.parse(t)}catch(e){return}}(),y=Object(l.createStore)(v,S,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(h.a.withExtraArgument({getFirebase:d.getFirebase,getFirestore:p.getFirestore}))));y.subscribe(j()((function(){!function(t){try{var e=JSON.stringify(t);localStorage.setItem("state",e)}catch(n){}}({articleData:y.getState().articleData})}),500));var _=y,A=n(19),C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,449)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),i(t),c(t)}))},k=n(96),w=n(232),E=n.n(w),N=(n(426),n(233)),I=n.n(N),R=n(3);var F=function(){return Object(R.jsxs)("div",{className:I.a.textStyle,children:[Object(R.jsx)(A.b,{to:"/",children:Object(R.jsx)("img",{src:"https://i.ibb.co/6Y5KQyz/new-york-times-logo.png",alt:"logo"})}),Object(R.jsx)(A.b,{to:"/login/",children:"Login - - - - - -"}),Object(R.jsx)(A.b,{to:"/signup/",children:"SignUP - - - - - -"}),Object(R.jsx)(A.b,{to:"/profile/",children:"Profile"})]})},U=n(10),P=n(59),G=n.n(P),L=n(234),D=n.n(L),T=Object(o.b)((function(t){return t.articleData.currentArticleData[0]}))((function(t){return Object(R.jsx)("div",{className:G.a.articleBlock,style:{backgroundImage:D.a.gradient+", url("+t.media[0]["media-metadata"][2].url+")"},children:Object(R.jsxs)("div",{className:G.a.text,children:[Object(R.jsx)("h1",{children:t.title}),Object(R.jsx)("h2",{children:t.abstract}),Object(R.jsxs)("div",{className:G.a.buttonsPosition,children:[Object(R.jsx)("button",{className:G.a.buttons,children:Object(R.jsx)("a",{href:t.url,children:"Show more..."})}),Object(R.jsx)("button",{className:G.a.buttons,children:Object(R.jsx)(A.b,{to:{pathname:"/"},children:"Home"})})]})]})})})),W=n(54),B=n(55),Y=n(57),J=n(56),M=n(235),V=n.n(M),z=n(97),X=n.n(z),H=function(t){Object(Y.a)(n,t);var e=Object(J.a)(n);function n(t){var r;return Object(W.a)(this,n),(r=e.call(this,t)).state={allArticles:[],article:[],path:""},r}return Object(B.a)(n,[{key:"getArticlesFromApi",value:function(){var t=this;V.a.get("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mN6Xg33Uh049lVc0uwErmOgdhb4TYBt4").then((function(e){var n=e.data.results;t.setState({allArticles:n})}))}},{key:"articlePropsToAction",value:function(){this.props.ArticleDataToStore(this.state.article),console.log(this.state)}},{key:"userRedirect",value:function(){var t=this.props.history,e=this.state.path;t&&t.push("/post/"+e)}},{key:"listArticles",value:function(){var t=this,e=this.state.allArticles;return Object(R.jsx)("div",{className:X.a.content,children:e.map((function(e){return e.media[0]&&Object(R.jsx)("div",{onClick:function(){t.setState({article:e,path:e.id})},className:X.a.block,style:{backgroundImage:"url("+e.media[0]["media-metadata"][1].url+")"},children:Object(R.jsx)("a",{onClick:function(){t.setState({article:e,path:e.id})},className:X.a.textAlign,children:e.title})})}))})}},{key:"componentDidMount",value:function(){this.getArticlesFromApi()}},{key:"componentDidUpdate",value:function(t,e){e.article!=this.state.article&&(this.articlePropsToAction(),this.userRedirect())}},{key:"render",value:function(){return Object(R.jsx)("div",{children:this.listArticles()})}}]),n}(i.a.Component),K=Object(o.b)(null,(function(t){return{ArticleDataToStore:function(e){return t({type:g,payload:{currentArticleArray:[e]}})}}}))(Object(U.f)(H)),Q=n(51),Z=n(58),q=n.n(Z),$=function(t){Object(Y.a)(n,t);var e=Object(J.a)(n);function n(){var t;Object(W.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={avatar:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/113px-React-icon.svg.png",name:"",email:"",password:""},t.handleSubmit=function(e){e.preventDefault(),t.props.signUp(t.state)},t.handleChange=function(e){var n=Object(Q.a)({},e.target.id,e.target.value);t.setState(n)},t}return Object(B.a)(n,[{key:"render",value:function(){var t=this.props.authError;return Object(R.jsxs)("div",{children:[Object(R.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(R.jsx)("input",{type:"text",id:"name",placeholder:"your name",onChange:this.handleChange}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{type:"email",id:"email",placeholder:"your email",onChange:this.handleChange}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{type:"password",id:"password",placeholder:"password",onChange:this.handleChange}),Object(R.jsx)("br",{}),Object(R.jsx)("button",{children:"SignUp"})]}),Object(R.jsx)("div",{children:t?Object(R.jsxs)("a",{className:q.a.text,children:["Error: ",t]}):null})]})}}]),n}(i.a.Component),tt=Object(o.b)((function(t){return{authError:t.userauth.authError}}),(function(t){return{signUp:function(e){t(function(t){return function(e,n,r){var a=r.getFirebase,i=r.getFirestore,c=a(),s=i();c.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(e){return s.collection("users").doc(e.user.uid).set({email:t.email,name:t.name,avatar:t.avatar})})).then((function(){e({type:"SIGNUP_SUCCESS"})})).catch((function(t){e({type:"SIGNUP_ERROR",err:t})}))}}(e))}}}))($),et=function(t){Object(Y.a)(n,t);var e=Object(J.a)(n);function n(){var t;Object(W.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={email:"",password:""},t.handleSubmit=function(e){e.preventDefault(),t.props.SignIn(t.state)},t.loginWithGoogle=function(e){e.preventDefault(),t.props.loginWithGoogle()},t.handleChange=function(e){t.setState(Object(Q.a)({},e.target.id,e.target.value))},t}return Object(B.a)(n,[{key:"render",value:function(){var t=this.props.authError;return Object(R.jsxs)("div",{children:[Object(R.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(R.jsx)("input",{type:"email",id:"email",placeholder:"your email",onChange:this.handleChange}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{type:"password",id:"password",placeholder:"password",onChange:this.handleChange}),Object(R.jsx)("br",{}),t?Object(R.jsxs)("a",{className:q.a.text,children:["Error: ",t]}):null,Object(R.jsx)("br",{}),Object(R.jsx)("button",{className:q.a.buttons,children:"Login"}),Object(R.jsx)("button",{children:Object(R.jsx)(A.b,{to:"/signup/",className:q.a.buttons,children:"sign Up"})})]}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("button",{onClick:this.loginWithGoogle,children:"Login with Google"}),Object(R.jsx)("br",{})]})}}]),n}(i.a.Component),nt=Object(o.b)((function(t){return{authError:t.userauth.authError}}),(function(t){return{SignIn:function(e){return t(function(t){return function(e,n,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(t.email,t.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}}(e))},loginWithGoogle:function(){return t((function(t,e,n){var r=(0,n.getFirebase)();r.auth().setPersistence(r.auth.Auth.Persistence.SESSION).then((function(){var t=new r.auth.GoogleAuthProvider;r.auth().signInWithPopup(t)})).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",err:e})}))}))}}}))(et),rt=Object(o.b)((function(t){return{nameFirebase:t.firebase.auth.displayName,photoFirebase:t.firebase.auth.photoURL,nameFirestore:t.firebase.profile.name,photoFirestore:t.firebase.profile.avatar}}),(function(t){return{logOut:function(){return t((function(t,e,n){(0,n.getFirebase)().auth().signOut().then((function(){t({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(t){var e=t.nameFirebase,n=t.photoFirebase,r=t.nameFirestore,a=t.photoFirestore,i=t.logOut,c=e||r,s=n||a;return Object(R.jsxs)("div",{children:[Object(R.jsx)("img",{src:s}),Object(R.jsx)("br",{}),c,Object(R.jsx)("br",{}),Object(R.jsx)("button",{onClick:i,children:"Log out"})]})})),at=function(){return Object(R.jsx)("div",{children:Object(R.jsxs)(U.c,{children:[Object(R.jsx)(U.a,{exact:!0,path:"/",component:K}),Object(R.jsx)(U.a,{path:"/post/",component:T}),Object(R.jsx)(U.a,{path:"/signup/",component:tt}),Object(R.jsx)(U.a,{path:"/login/",component:nt}),Object(R.jsx)(U.a,{path:"/profile/",component:rt})]})})},it=k.a.initializeApp({apiKey:"AIzaSyAVt-pjd5k3sjMWh3XCnkp1gXNMT1HbU00",authDomain:"linkuptest2-188b4.firebaseapp.com",databaseURL:"https://linkuptest2-188b4-default-rtdb.firebaseio.com",projectId:"linkuptest2-188b4",storageBucket:"linkuptest2-188b4.appspot.com",messagingSenderId:"322688091766",appId:"1:322688091766:web:c0fe0dba32002a6d678157"});var ct=function(){return Object(R.jsxs)("div",{className:E.a.app,children:[void it.auth().onAuthStateChanged((function(t){var e={};e=!!t,console.log("Logged in: ",e)})),Object(R.jsx)(F,{}),Object(R.jsx)(at,{})]})},st={firebase:k.a,dispatch:_.dispatch,config:{userProfile:"users",useFirestoreForProfile:!0},createFirestoreInstance:p.createFirestoreInstance};s.a.render(Object(R.jsx)(o.a,{store:_,children:Object(R.jsx)(A.a,{children:Object(R.jsx)(d.ReactReduxFirebaseProvider,Object(r.a)(Object(r.a)({},st),{},{children:Object(R.jsx)(ct,{})}))})}),document.getElementById("root")),C()},58:function(t,e,n){t.exports={text:"loginSignup_text__17BoW",buttons:"loginSignup_buttons___t0u_"}},59:function(t,e,n){t.exports={articleBlock:"showArticle_articleBlock__1GWsq",text:"showArticle_text__2Gf-Y",buttonsPosition:"showArticle_buttonsPosition__1N255",buttons:"showArticle_buttons__2R-_9"}},97:function(t,e,n){t.exports={content:"articlesList_content__1V5Y9",block:"articlesList_block__1PPGc",textAlign:"articlesList_textAlign__VoZ0B"}}},[[448,1,2]]]);
//# sourceMappingURL=main.4ab2eee3.chunk.js.map